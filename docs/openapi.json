{
  "openapi": "3.0.3",
  "info": {
    "title": "Activepieces Documentation",
    "version": "0.3.6"
  },
  "components": {
    "securitySchemes": {
      "apiKey": {
        "type": "http",
        "scheme": "bearer"
      }
    },
    "schemas": {}
  },
  "paths": {
    "/v1/collections/{collectionId}": {
      "delete": {
        "summary": "Delete a collection",
        "tags": [
          "collection"
        ],
        "description": "Delete a collection",
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "collectionId",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            }
          }
        }
      },
      "get": {
        "summary": "Get a collection",
        "tags": [
          "collection"
        ],
        "description": "Get a collection",
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "collectionId",
            "required": true
          }
        ],
        "security": [
          {
            "apiKey": []
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "example": "9m7dpndtY3IUvUvCv5WY0",
                      "type": "string"
                    },
                    "created": {
                      "example": "2023-03-09T18:29:49.146Z",
                      "type": "string"
                    },
                    "update": {
                      "example": "2023-03-09T18:29:49.146Z",
                      "type": "string"
                    },
                    "projectId": {
                      "example": "9m7dpndtY3IUvUvCv5WY0",
                      "type": "string"
                    },
                    "displayName": {
                      "example": "Collection",
                      "type": "string"
                    }
                  },
                  "required": [
                    "id",
                    "created",
                    "update",
                    "projectId",
                    "displayName"
                  ]
                }
              }
            }
          }
        }
      },
      "post": {
        "summary": "Update a collection",
        "tags": [
          "collection"
        ],
        "description": "Update a collection",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "displayName": {
                    "type": "string"
                  }
                },
                "required": [
                  "displayName"
                ]
              }
            }
          },
          "required": true
        },
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "collectionId",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "example": "9m7dpndtY3IUvUvCv5WY0",
                      "type": "string"
                    },
                    "created": {
                      "example": "2023-03-09T18:29:49.146Z",
                      "type": "string"
                    },
                    "update": {
                      "example": "2023-03-09T18:29:49.146Z",
                      "type": "string"
                    },
                    "projectId": {
                      "example": "9m7dpndtY3IUvUvCv5WY0",
                      "type": "string"
                    },
                    "displayName": {
                      "example": "Collection",
                      "type": "string"
                    }
                  },
                  "required": [
                    "id",
                    "created",
                    "update",
                    "projectId",
                    "displayName"
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/v1/collections/": {
      "get": {
        "summary": "List Collections",
        "tags": [
          "collection"
        ],
        "description": "List Collections",
        "parameters": [
          {
            "schema": {
              "type": "number"
            },
            "in": "query",
            "name": "limit",
            "required": false
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "query",
            "name": "cursor",
            "required": false
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "next": {
                      "example": "next-cursor",
                      "type": "string"
                    },
                    "previous": {
                      "example": "previous-cursor",
                      "type": "string"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "example": "9m7dpndtY3IUvUvCv5WY0",
                            "type": "string"
                          },
                          "created": {
                            "example": "2023-03-09T18:29:49.146Z",
                            "type": "string"
                          },
                          "update": {
                            "example": "2023-03-09T18:29:49.146Z",
                            "type": "string"
                          },
                          "projectId": {
                            "example": "9m7dpndtY3IUvUvCv5WY0",
                            "type": "string"
                          },
                          "displayName": {
                            "example": "Collection",
                            "type": "string"
                          }
                        },
                        "required": [
                          "id",
                          "created",
                          "update",
                          "projectId",
                          "displayName"
                        ]
                      }
                    }
                  },
                  "required": [
                    "data"
                  ]
                }
              }
            }
          }
        }
      },
      "post": {
        "summary": "Create a collection",
        "tags": [
          "collection"
        ],
        "description": "Create a collection",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "displayName": {
                    "type": "string"
                  }
                },
                "required": [
                  "displayName"
                ]
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "example": "9m7dpndtY3IUvUvCv5WY0",
                      "type": "string"
                    },
                    "created": {
                      "example": "2023-03-09T18:29:49.146Z",
                      "type": "string"
                    },
                    "update": {
                      "example": "2023-03-09T18:29:49.146Z",
                      "type": "string"
                    },
                    "projectId": {
                      "example": "9m7dpndtY3IUvUvCv5WY0",
                      "type": "string"
                    },
                    "displayName": {
                      "example": "Collection",
                      "type": "string"
                    }
                  },
                  "required": [
                    "id",
                    "created",
                    "update",
                    "projectId",
                    "displayName"
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/v1/flows/": {
      "post": {
        "summary": "Create a flow",
        "tags": [
          "flow"
        ],
        "description": "Create a flow",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "displayName": {
                    "type": "string"
                  },
                  "collectionId": {
                    "type": "string"
                  }
                },
                "required": [
                  "displayName",
                  "collectionId"
                ]
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "example": "9m7dpndtY3IUvUvCv5WY0",
                      "type": "string"
                    },
                    "created": {
                      "example": "2023-03-09T18:29:49.146Z",
                      "type": "string"
                    },
                    "update": {
                      "example": "2023-03-09T18:29:49.146Z",
                      "type": "string"
                    },
                    "projectId": {
                      "example": "9m7dpndtY3IUvUvCv5WY0",
                      "type": "string"
                    },
                    "collectionId": {
                      "example": "517dpndtY3IU2UvCv5WY0",
                      "type": "string"
                    },
                    "version": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "example": "9m7dpndtY3IUvUvCv5WY0",
                          "type": "string"
                        },
                        "created": {
                          "example": "2023-03-09T18:29:49.146Z",
                          "type": "string"
                        },
                        "update": {
                          "example": "2023-03-09T18:29:49.146Z",
                          "type": "string"
                        },
                        "flowId": {
                          "type": "string"
                        },
                        "displayName": {
                          "type": "string"
                        },
                        "trigger": {
                          "anyOf": [
                            {
                              "type": "object",
                              "properties": {
                                "name": {
                                  "type": "string"
                                },
                                "valid": {
                                  "type": "boolean"
                                },
                                "displayName": {
                                  "type": "string"
                                },
                                "nextAction": {},
                                "type": {
                                  "type": "string",
                                  "enum": [
                                    "WEBHOOK"
                                  ]
                                },
                                "settings": {
                                  "type": "object",
                                  "properties": {}
                                }
                              },
                              "required": [
                                "name",
                                "valid",
                                "displayName",
                                "type",
                                "settings"
                              ]
                            },
                            {
                              "type": "object",
                              "properties": {
                                "name": {
                                  "type": "string"
                                },
                                "valid": {
                                  "type": "boolean"
                                },
                                "displayName": {
                                  "type": "string"
                                },
                                "nextAction": {},
                                "type": {
                                  "type": "string",
                                  "enum": [
                                    "SCHEDULE"
                                  ]
                                },
                                "settings": {
                                  "type": "object",
                                  "properties": {
                                    "cronExpression": {
                                      "format": "cronexpression",
                                      "type": "string"
                                    }
                                  },
                                  "required": [
                                    "cronExpression"
                                  ]
                                }
                              },
                              "required": [
                                "name",
                                "valid",
                                "displayName",
                                "type",
                                "settings"
                              ]
                            },
                            {
                              "type": "object",
                              "properties": {
                                "name": {
                                  "type": "string"
                                },
                                "valid": {
                                  "type": "boolean"
                                },
                                "displayName": {
                                  "type": "string"
                                },
                                "nextAction": {},
                                "type": {
                                  "type": "string",
                                  "enum": [
                                    "PIECE_TRIGGER"
                                  ]
                                },
                                "settings": {
                                  "type": "object",
                                  "properties": {
                                    "pieceName": {
                                      "type": "string"
                                    },
                                    "pieceVersion": {
                                      "type": "string",
                                      "pattern": "^[0-9]+\\.[0-9]+\\.[0-9]+$"
                                    },
                                    "triggerName": {
                                      "type": "string"
                                    },
                                    "input": {
                                      "type": "object",
                                      "additionalProperties": {}
                                    }
                                  },
                                  "required": [
                                    "pieceName",
                                    "pieceVersion",
                                    "triggerName",
                                    "input"
                                  ]
                                }
                              },
                              "required": [
                                "name",
                                "valid",
                                "displayName",
                                "type",
                                "settings"
                              ]
                            },
                            {
                              "type": "object",
                              "properties": {
                                "name": {
                                  "type": "string"
                                },
                                "valid": {
                                  "type": "boolean"
                                },
                                "displayName": {
                                  "type": "string"
                                },
                                "nextAction": {},
                                "type": {
                                  "type": "string",
                                  "enum": [
                                    "EMPTY"
                                  ]
                                },
                                "settings": {
                                  "type": "object",
                                  "properties": {}
                                }
                              },
                              "required": [
                                "name",
                                "valid",
                                "displayName",
                                "type",
                                "settings"
                              ]
                            }
                          ]
                        },
                        "valid": {
                          "type": "boolean"
                        },
                        "state": {
                          "anyOf": [
                            {
                              "type": "string",
                              "enum": [
                                "LOCKED"
                              ]
                            },
                            {
                              "type": "string",
                              "enum": [
                                "DRAFT"
                              ]
                            }
                          ]
                        }
                      },
                      "required": [
                        "id",
                        "created",
                        "update",
                        "flowId",
                        "displayName",
                        "trigger",
                        "valid",
                        "state"
                      ]
                    }
                  },
                  "required": [
                    "id",
                    "created",
                    "update",
                    "projectId",
                    "collectionId",
                    "version"
                  ]
                }
              }
            }
          }
        }
      },
      "get": {
        "summary": "List flows",
        "tags": [
          "flow"
        ],
        "description": "List flows",
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "query",
            "name": "collectionId",
            "required": true
          },
          {
            "schema": {
              "type": "number"
            },
            "in": "query",
            "name": "limit",
            "required": false
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "query",
            "name": "cursor",
            "required": false
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "next": {
                      "example": "next-cursor",
                      "type": "string"
                    },
                    "previous": {
                      "example": "previous-cursor",
                      "type": "string"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "example": "9m7dpndtY3IUvUvCv5WY0",
                            "type": "string"
                          },
                          "created": {
                            "example": "2023-03-09T18:29:49.146Z",
                            "type": "string"
                          },
                          "update": {
                            "example": "2023-03-09T18:29:49.146Z",
                            "type": "string"
                          },
                          "projectId": {
                            "example": "9m7dpndtY3IUvUvCv5WY0",
                            "type": "string"
                          },
                          "collectionId": {
                            "example": "517dpndtY3IU2UvCv5WY0",
                            "type": "string"
                          },
                          "version": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "example": "9m7dpndtY3IUvUvCv5WY0",
                                "type": "string"
                              },
                              "created": {
                                "example": "2023-03-09T18:29:49.146Z",
                                "type": "string"
                              },
                              "update": {
                                "example": "2023-03-09T18:29:49.146Z",
                                "type": "string"
                              },
                              "flowId": {
                                "type": "string"
                              },
                              "displayName": {
                                "type": "string"
                              },
                              "trigger": {
                                "anyOf": [
                                  {
                                    "type": "object",
                                    "properties": {
                                      "name": {
                                        "type": "string"
                                      },
                                      "valid": {
                                        "type": "boolean"
                                      },
                                      "displayName": {
                                        "type": "string"
                                      },
                                      "nextAction": {},
                                      "type": {
                                        "type": "string",
                                        "enum": [
                                          "WEBHOOK"
                                        ]
                                      },
                                      "settings": {
                                        "type": "object",
                                        "properties": {}
                                      }
                                    },
                                    "required": [
                                      "name",
                                      "valid",
                                      "displayName",
                                      "type",
                                      "settings"
                                    ]
                                  },
                                  {
                                    "type": "object",
                                    "properties": {
                                      "name": {
                                        "type": "string"
                                      },
                                      "valid": {
                                        "type": "boolean"
                                      },
                                      "displayName": {
                                        "type": "string"
                                      },
                                      "nextAction": {},
                                      "type": {
                                        "type": "string",
                                        "enum": [
                                          "SCHEDULE"
                                        ]
                                      },
                                      "settings": {
                                        "type": "object",
                                        "properties": {
                                          "cronExpression": {
                                            "format": "cronexpression",
                                            "type": "string"
                                          }
                                        },
                                        "required": [
                                          "cronExpression"
                                        ]
                                      }
                                    },
                                    "required": [
                                      "name",
                                      "valid",
                                      "displayName",
                                      "type",
                                      "settings"
                                    ]
                                  },
                                  {
                                    "type": "object",
                                    "properties": {
                                      "name": {
                                        "type": "string"
                                      },
                                      "valid": {
                                        "type": "boolean"
                                      },
                                      "displayName": {
                                        "type": "string"
                                      },
                                      "nextAction": {},
                                      "type": {
                                        "type": "string",
                                        "enum": [
                                          "PIECE_TRIGGER"
                                        ]
                                      },
                                      "settings": {
                                        "type": "object",
                                        "properties": {
                                          "pieceName": {
                                            "type": "string"
                                          },
                                          "pieceVersion": {
                                            "type": "string",
                                            "pattern": "^[0-9]+\\.[0-9]+\\.[0-9]+$"
                                          },
                                          "triggerName": {
                                            "type": "string"
                                          },
                                          "input": {
                                            "type": "object",
                                            "additionalProperties": {}
                                          }
                                        },
                                        "required": [
                                          "pieceName",
                                          "pieceVersion",
                                          "triggerName",
                                          "input"
                                        ]
                                      }
                                    },
                                    "required": [
                                      "name",
                                      "valid",
                                      "displayName",
                                      "type",
                                      "settings"
                                    ]
                                  },
                                  {
                                    "type": "object",
                                    "properties": {
                                      "name": {
                                        "type": "string"
                                      },
                                      "valid": {
                                        "type": "boolean"
                                      },
                                      "displayName": {
                                        "type": "string"
                                      },
                                      "nextAction": {},
                                      "type": {
                                        "type": "string",
                                        "enum": [
                                          "EMPTY"
                                        ]
                                      },
                                      "settings": {
                                        "type": "object",
                                        "properties": {}
                                      }
                                    },
                                    "required": [
                                      "name",
                                      "valid",
                                      "displayName",
                                      "type",
                                      "settings"
                                    ]
                                  }
                                ]
                              },
                              "valid": {
                                "type": "boolean"
                              },
                              "state": {
                                "anyOf": [
                                  {
                                    "type": "string",
                                    "enum": [
                                      "LOCKED"
                                    ]
                                  },
                                  {
                                    "type": "string",
                                    "enum": [
                                      "DRAFT"
                                    ]
                                  }
                                ]
                              }
                            },
                            "required": [
                              "id",
                              "created",
                              "update",
                              "flowId",
                              "displayName",
                              "trigger",
                              "valid",
                              "state"
                            ]
                          }
                        },
                        "required": [
                          "id",
                          "created",
                          "update",
                          "projectId",
                          "collectionId",
                          "version"
                        ]
                      }
                    }
                  },
                  "required": [
                    "data"
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/v1/flows/{flowId}": {
      "post": {
        "summary": "Update a flow",
        "tags": [
          "flow"
        ],
        "description": "Update a flow",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "anyOf": [
                  {
                    "type": "object",
                    "properties": {
                      "type": {
                        "type": "string",
                        "enum": [
                          "CHANGE_NAME"
                        ]
                      },
                      "request": {
                        "type": "object",
                        "properties": {
                          "displayName": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "displayName"
                        ]
                      }
                    },
                    "required": [
                      "type",
                      "request"
                    ]
                  },
                  {
                    "type": "object",
                    "properties": {
                      "type": {
                        "type": "string",
                        "enum": [
                          "DELETE_ACTION"
                        ]
                      },
                      "request": {
                        "type": "object",
                        "properties": {
                          "name": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "name"
                        ]
                      }
                    },
                    "required": [
                      "type",
                      "request"
                    ]
                  },
                  {
                    "type": "object",
                    "properties": {
                      "type": {
                        "type": "string",
                        "enum": [
                          "UPDATE_ACTION"
                        ]
                      },
                      "request": {
                        "anyOf": [
                          {
                            "type": "object",
                            "properties": {
                              "name": {
                                "type": "string"
                              },
                              "valid": {
                                "type": "boolean"
                              },
                              "displayName": {
                                "type": "string"
                              },
                              "nextAction": {},
                              "type": {
                                "type": "string",
                                "enum": [
                                  "CODE"
                                ]
                              },
                              "settings": {
                                "type": "object",
                                "properties": {
                                  "artifactSourceId": {
                                    "type": "string"
                                  },
                                  "artifactPackagedId": {
                                    "type": "string"
                                  },
                                  "artifact": {
                                    "type": "string"
                                  },
                                  "input": {
                                    "type": "object",
                                    "additionalProperties": {}
                                  }
                                },
                                "required": [
                                  "input"
                                ]
                              }
                            },
                            "required": [
                              "name",
                              "valid",
                              "displayName",
                              "type",
                              "settings"
                            ]
                          },
                          {
                            "type": "object",
                            "properties": {
                              "name": {
                                "type": "string"
                              },
                              "valid": {
                                "type": "boolean"
                              },
                              "displayName": {
                                "type": "string"
                              },
                              "nextAction": {},
                              "type": {
                                "type": "string",
                                "enum": [
                                  "LOOP_ON_ITEMS"
                                ]
                              },
                              "settings": {
                                "type": "object",
                                "properties": {
                                  "items": {
                                    "type": "array",
                                    "items": {}
                                  }
                                },
                                "required": [
                                  "items"
                                ]
                              },
                              "firstLoopAction": {}
                            },
                            "required": [
                              "name",
                              "valid",
                              "displayName",
                              "type",
                              "settings"
                            ]
                          },
                          {
                            "type": "object",
                            "properties": {
                              "name": {
                                "type": "string"
                              },
                              "valid": {
                                "type": "boolean"
                              },
                              "displayName": {
                                "type": "string"
                              },
                              "nextAction": {},
                              "type": {
                                "type": "string",
                                "enum": [
                                  "PIECE"
                                ]
                              },
                              "settings": {
                                "type": "object",
                                "properties": {
                                  "pieceName": {
                                    "type": "string"
                                  },
                                  "pieceVersion": {
                                    "type": "string",
                                    "pattern": "^[0-9]+\\.[0-9]+\\.[0-9]+$"
                                  },
                                  "actionName": {
                                    "type": "string"
                                  },
                                  "input": {
                                    "type": "object",
                                    "additionalProperties": {}
                                  },
                                  "inputUiInfo": {
                                    "type": "object",
                                    "additionalProperties": {}
                                  }
                                },
                                "required": [
                                  "pieceName",
                                  "pieceVersion",
                                  "input",
                                  "inputUiInfo"
                                ]
                              }
                            },
                            "required": [
                              "name",
                              "valid",
                              "displayName",
                              "type",
                              "settings"
                            ]
                          },
                          {
                            "type": "object",
                            "properties": {
                              "name": {
                                "type": "string"
                              },
                              "valid": {
                                "type": "boolean"
                              },
                              "displayName": {
                                "type": "string"
                              },
                              "nextAction": {},
                              "type": {
                                "type": "string",
                                "enum": [
                                  "BRANCH"
                                ]
                              },
                              "settings": {
                                "type": "object",
                                "properties": {
                                  "conditions": {
                                    "type": "array",
                                    "items": {
                                      "type": "array",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "object",
                                            "properties": {
                                              "firstValue": {
                                                "type": "string"
                                              },
                                              "secondValue": {
                                                "type": "string"
                                              },
                                              "operator": {
                                                "anyOf": [
                                                  {
                                                    "type": "string",
                                                    "enum": [
                                                      "TEXT_CONTAINS"
                                                    ]
                                                  },
                                                  {
                                                    "type": "string",
                                                    "enum": [
                                                      "TEXT_DOES_NOT_CONTAIN"
                                                    ]
                                                  },
                                                  {
                                                    "type": "string",
                                                    "enum": [
                                                      "TEXT_EXACTLY_MATCHES"
                                                    ]
                                                  },
                                                  {
                                                    "type": "string",
                                                    "enum": [
                                                      "TEXT_DOES_NOT_EXACTLY_MATCH"
                                                    ]
                                                  },
                                                  {
                                                    "type": "string",
                                                    "enum": [
                                                      "TEXT_START_WITH"
                                                    ]
                                                  },
                                                  {
                                                    "type": "string",
                                                    "enum": [
                                                      "TEXT_DOES_NOT_START_WITH"
                                                    ]
                                                  },
                                                  {
                                                    "type": "string",
                                                    "enum": [
                                                      "TEXT_ENDS_WITH"
                                                    ]
                                                  },
                                                  {
                                                    "type": "string",
                                                    "enum": [
                                                      "TEXT_DOES_NOT_END_WITH"
                                                    ]
                                                  },
                                                  {
                                                    "type": "string",
                                                    "enum": [
                                                      "NUMBER_IS_GREATER_THAN"
                                                    ]
                                                  },
                                                  {
                                                    "type": "string",
                                                    "enum": [
                                                      "NUMBER_IS_LESS_THAN"
                                                    ]
                                                  }
                                                ]
                                              }
                                            },
                                            "required": [
                                              "firstValue",
                                              "secondValue"
                                            ]
                                          },
                                          {
                                            "type": "object",
                                            "properties": {
                                              "firstValue": {
                                                "type": "string"
                                              },
                                              "operator": {
                                                "anyOf": [
                                                  {
                                                    "type": "string",
                                                    "enum": [
                                                      "BOOLEAN_IS_TRUE"
                                                    ]
                                                  },
                                                  {
                                                    "type": "string",
                                                    "enum": [
                                                      "BOOLEAN_IS_FALSE"
                                                    ]
                                                  },
                                                  {
                                                    "type": "string",
                                                    "enum": [
                                                      "EXISTS"
                                                    ]
                                                  },
                                                  {
                                                    "type": "string",
                                                    "enum": [
                                                      "DOES_NOT_EXIST"
                                                    ]
                                                  }
                                                ]
                                              }
                                            },
                                            "required": [
                                              "firstValue"
                                            ]
                                          }
                                        ]
                                      }
                                    }
                                  }
                                },
                                "required": [
                                  "conditions"
                                ]
                              },
                              "onSuccessAction": {},
                              "onFailureAction": {}
                            },
                            "required": [
                              "name",
                              "valid",
                              "displayName",
                              "type",
                              "settings"
                            ]
                          }
                        ]
                      }
                    },
                    "required": [
                      "type",
                      "request"
                    ]
                  },
                  {
                    "type": "object",
                    "properties": {
                      "type": {
                        "type": "string",
                        "enum": [
                          "ADD_ACTION"
                        ]
                      },
                      "request": {
                        "type": "object",
                        "properties": {
                          "parentStep": {
                            "type": "string"
                          },
                          "stepLocationRelativeToParent": {
                            "anyOf": [
                              {
                                "type": "string",
                                "enum": [
                                  "INSIDE_TRUE_BRANCH"
                                ]
                              },
                              {
                                "type": "string",
                                "enum": [
                                  "INSIDE_FALSE_BRANCH"
                                ]
                              },
                              {
                                "type": "string",
                                "enum": [
                                  "AFTER"
                                ]
                              },
                              {
                                "type": "string",
                                "enum": [
                                  "INSIDE_LOOP"
                                ]
                              }
                            ]
                          },
                          "action": {
                            "anyOf": [
                              {
                                "type": "object",
                                "properties": {
                                  "name": {
                                    "type": "string"
                                  },
                                  "valid": {
                                    "type": "boolean"
                                  },
                                  "displayName": {
                                    "type": "string"
                                  },
                                  "nextAction": {},
                                  "type": {
                                    "type": "string",
                                    "enum": [
                                      "CODE"
                                    ]
                                  },
                                  "settings": {
                                    "type": "object",
                                    "properties": {
                                      "artifactSourceId": {
                                        "type": "string"
                                      },
                                      "artifactPackagedId": {
                                        "type": "string"
                                      },
                                      "artifact": {
                                        "type": "string"
                                      },
                                      "input": {
                                        "type": "object",
                                        "additionalProperties": {}
                                      }
                                    },
                                    "required": [
                                      "input"
                                    ]
                                  }
                                },
                                "required": [
                                  "name",
                                  "valid",
                                  "displayName",
                                  "type",
                                  "settings"
                                ]
                              },
                              {
                                "type": "object",
                                "properties": {
                                  "name": {
                                    "type": "string"
                                  },
                                  "valid": {
                                    "type": "boolean"
                                  },
                                  "displayName": {
                                    "type": "string"
                                  },
                                  "nextAction": {},
                                  "type": {
                                    "type": "string",
                                    "enum": [
                                      "LOOP_ON_ITEMS"
                                    ]
                                  },
                                  "settings": {
                                    "type": "object",
                                    "properties": {
                                      "items": {
                                        "type": "array",
                                        "items": {}
                                      }
                                    },
                                    "required": [
                                      "items"
                                    ]
                                  },
                                  "firstLoopAction": {}
                                },
                                "required": [
                                  "name",
                                  "valid",
                                  "displayName",
                                  "type",
                                  "settings"
                                ]
                              },
                              {
                                "type": "object",
                                "properties": {
                                  "name": {
                                    "type": "string"
                                  },
                                  "valid": {
                                    "type": "boolean"
                                  },
                                  "displayName": {
                                    "type": "string"
                                  },
                                  "nextAction": {},
                                  "type": {
                                    "type": "string",
                                    "enum": [
                                      "PIECE"
                                    ]
                                  },
                                  "settings": {
                                    "type": "object",
                                    "properties": {
                                      "pieceName": {
                                        "type": "string"
                                      },
                                      "pieceVersion": {
                                        "type": "string",
                                        "pattern": "^[0-9]+\\.[0-9]+\\.[0-9]+$"
                                      },
                                      "actionName": {
                                        "type": "string"
                                      },
                                      "input": {
                                        "type": "object",
                                        "additionalProperties": {}
                                      },
                                      "inputUiInfo": {
                                        "type": "object",
                                        "additionalProperties": {}
                                      }
                                    },
                                    "required": [
                                      "pieceName",
                                      "pieceVersion",
                                      "input",
                                      "inputUiInfo"
                                    ]
                                  }
                                },
                                "required": [
                                  "name",
                                  "valid",
                                  "displayName",
                                  "type",
                                  "settings"
                                ]
                              },
                              {
                                "type": "object",
                                "properties": {
                                  "name": {
                                    "type": "string"
                                  },
                                  "valid": {
                                    "type": "boolean"
                                  },
                                  "displayName": {
                                    "type": "string"
                                  },
                                  "nextAction": {},
                                  "type": {
                                    "type": "string",
                                    "enum": [
                                      "BRANCH"
                                    ]
                                  },
                                  "settings": {
                                    "type": "object",
                                    "properties": {
                                      "conditions": {
                                        "type": "array",
                                        "items": {
                                          "type": "array",
                                          "items": {
                                            "anyOf": [
                                              {
                                                "type": "object",
                                                "properties": {
                                                  "firstValue": {
                                                    "type": "string"
                                                  },
                                                  "secondValue": {
                                                    "type": "string"
                                                  },
                                                  "operator": {
                                                    "anyOf": [
                                                      {
                                                        "type": "string",
                                                        "enum": [
                                                          "TEXT_CONTAINS"
                                                        ]
                                                      },
                                                      {
                                                        "type": "string",
                                                        "enum": [
                                                          "TEXT_DOES_NOT_CONTAIN"
                                                        ]
                                                      },
                                                      {
                                                        "type": "string",
                                                        "enum": [
                                                          "TEXT_EXACTLY_MATCHES"
                                                        ]
                                                      },
                                                      {
                                                        "type": "string",
                                                        "enum": [
                                                          "TEXT_DOES_NOT_EXACTLY_MATCH"
                                                        ]
                                                      },
                                                      {
                                                        "type": "string",
                                                        "enum": [
                                                          "TEXT_START_WITH"
                                                        ]
                                                      },
                                                      {
                                                        "type": "string",
                                                        "enum": [
                                                          "TEXT_DOES_NOT_START_WITH"
                                                        ]
                                                      },
                                                      {
                                                        "type": "string",
                                                        "enum": [
                                                          "TEXT_ENDS_WITH"
                                                        ]
                                                      },
                                                      {
                                                        "type": "string",
                                                        "enum": [
                                                          "TEXT_DOES_NOT_END_WITH"
                                                        ]
                                                      },
                                                      {
                                                        "type": "string",
                                                        "enum": [
                                                          "NUMBER_IS_GREATER_THAN"
                                                        ]
                                                      },
                                                      {
                                                        "type": "string",
                                                        "enum": [
                                                          "NUMBER_IS_LESS_THAN"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                },
                                                "required": [
                                                  "firstValue",
                                                  "secondValue"
                                                ]
                                              },
                                              {
                                                "type": "object",
                                                "properties": {
                                                  "firstValue": {
                                                    "type": "string"
                                                  },
                                                  "operator": {
                                                    "anyOf": [
                                                      {
                                                        "type": "string",
                                                        "enum": [
                                                          "BOOLEAN_IS_TRUE"
                                                        ]
                                                      },
                                                      {
                                                        "type": "string",
                                                        "enum": [
                                                          "BOOLEAN_IS_FALSE"
                                                        ]
                                                      },
                                                      {
                                                        "type": "string",
                                                        "enum": [
                                                          "EXISTS"
                                                        ]
                                                      },
                                                      {
                                                        "type": "string",
                                                        "enum": [
                                                          "DOES_NOT_EXIST"
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                },
                                                "required": [
                                                  "firstValue"
                                                ]
                                              }
                                            ]
                                          }
                                        }
                                      }
                                    },
                                    "required": [
                                      "conditions"
                                    ]
                                  },
                                  "onSuccessAction": {},
                                  "onFailureAction": {}
                                },
                                "required": [
                                  "name",
                                  "valid",
                                  "displayName",
                                  "type",
                                  "settings"
                                ]
                              }
                            ]
                          }
                        },
                        "required": [
                          "parentStep",
                          "action"
                        ]
                      }
                    },
                    "required": [
                      "type",
                      "request"
                    ]
                  },
                  {
                    "type": "object",
                    "properties": {
                      "type": {
                        "type": "string",
                        "enum": [
                          "UPDATE_TRIGGER"
                        ]
                      },
                      "request": {
                        "anyOf": [
                          {
                            "type": "object",
                            "properties": {
                              "name": {
                                "type": "string"
                              },
                              "valid": {
                                "type": "boolean"
                              },
                              "displayName": {
                                "type": "string"
                              },
                              "nextAction": {},
                              "type": {
                                "type": "string",
                                "enum": [
                                  "EMPTY"
                                ]
                              },
                              "settings": {
                                "type": "object",
                                "properties": {}
                              }
                            },
                            "required": [
                              "name",
                              "valid",
                              "displayName",
                              "type",
                              "settings"
                            ]
                          },
                          {
                            "type": "object",
                            "properties": {
                              "name": {
                                "type": "string"
                              },
                              "valid": {
                                "type": "boolean"
                              },
                              "displayName": {
                                "type": "string"
                              },
                              "nextAction": {},
                              "type": {
                                "type": "string",
                                "enum": [
                                  "SCHEDULE"
                                ]
                              },
                              "settings": {
                                "type": "object",
                                "properties": {
                                  "cronExpression": {
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "cronExpression"
                                ]
                              }
                            },
                            "required": [
                              "name",
                              "valid",
                              "displayName",
                              "type",
                              "settings"
                            ]
                          },
                          {
                            "type": "object",
                            "properties": {
                              "name": {
                                "type": "string"
                              },
                              "valid": {
                                "type": "boolean"
                              },
                              "displayName": {
                                "type": "string"
                              },
                              "nextAction": {},
                              "type": {
                                "type": "string",
                                "enum": [
                                  "PIECE_TRIGGER"
                                ]
                              },
                              "settings": {
                                "type": "object",
                                "properties": {
                                  "pieceName": {
                                    "type": "string"
                                  },
                                  "pieceVersion": {
                                    "type": "string",
                                    "pattern": "^[0-9]+\\.[0-9]+\\.[0-9]+$"
                                  },
                                  "triggerName": {
                                    "type": "string"
                                  },
                                  "input": {
                                    "type": "object",
                                    "additionalProperties": {}
                                  }
                                },
                                "required": [
                                  "pieceName",
                                  "pieceVersion",
                                  "triggerName",
                                  "input"
                                ]
                              }
                            },
                            "required": [
                              "name",
                              "valid",
                              "displayName",
                              "type",
                              "settings"
                            ]
                          },
                          {
                            "type": "object",
                            "properties": {
                              "name": {
                                "type": "string"
                              },
                              "valid": {
                                "type": "boolean"
                              },
                              "displayName": {
                                "type": "string"
                              },
                              "nextAction": {},
                              "type": {
                                "type": "string",
                                "enum": [
                                  "WEBHOOK"
                                ]
                              },
                              "settings": {
                                "type": "object",
                                "properties": {}
                              }
                            },
                            "required": [
                              "name",
                              "valid",
                              "displayName",
                              "type",
                              "settings"
                            ]
                          }
                        ]
                      }
                    },
                    "required": [
                      "type",
                      "request"
                    ]
                  }
                ]
              }
            }
          }
        },
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "flowId",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "example": "9m7dpndtY3IUvUvCv5WY0",
                      "type": "string"
                    },
                    "created": {
                      "example": "2023-03-09T18:29:49.146Z",
                      "type": "string"
                    },
                    "update": {
                      "example": "2023-03-09T18:29:49.146Z",
                      "type": "string"
                    },
                    "projectId": {
                      "example": "9m7dpndtY3IUvUvCv5WY0",
                      "type": "string"
                    },
                    "collectionId": {
                      "example": "517dpndtY3IU2UvCv5WY0",
                      "type": "string"
                    },
                    "version": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "example": "9m7dpndtY3IUvUvCv5WY0",
                          "type": "string"
                        },
                        "created": {
                          "example": "2023-03-09T18:29:49.146Z",
                          "type": "string"
                        },
                        "update": {
                          "example": "2023-03-09T18:29:49.146Z",
                          "type": "string"
                        },
                        "flowId": {
                          "type": "string"
                        },
                        "displayName": {
                          "type": "string"
                        },
                        "trigger": {
                          "anyOf": [
                            {
                              "type": "object",
                              "properties": {
                                "name": {
                                  "type": "string"
                                },
                                "valid": {
                                  "type": "boolean"
                                },
                                "displayName": {
                                  "type": "string"
                                },
                                "nextAction": {},
                                "type": {
                                  "type": "string",
                                  "enum": [
                                    "WEBHOOK"
                                  ]
                                },
                                "settings": {
                                  "type": "object",
                                  "properties": {}
                                }
                              },
                              "required": [
                                "name",
                                "valid",
                                "displayName",
                                "type",
                                "settings"
                              ]
                            },
                            {
                              "type": "object",
                              "properties": {
                                "name": {
                                  "type": "string"
                                },
                                "valid": {
                                  "type": "boolean"
                                },
                                "displayName": {
                                  "type": "string"
                                },
                                "nextAction": {},
                                "type": {
                                  "type": "string",
                                  "enum": [
                                    "SCHEDULE"
                                  ]
                                },
                                "settings": {
                                  "type": "object",
                                  "properties": {
                                    "cronExpression": {
                                      "format": "cronexpression",
                                      "type": "string"
                                    }
                                  },
                                  "required": [
                                    "cronExpression"
                                  ]
                                }
                              },
                              "required": [
                                "name",
                                "valid",
                                "displayName",
                                "type",
                                "settings"
                              ]
                            },
                            {
                              "type": "object",
                              "properties": {
                                "name": {
                                  "type": "string"
                                },
                                "valid": {
                                  "type": "boolean"
                                },
                                "displayName": {
                                  "type": "string"
                                },
                                "nextAction": {},
                                "type": {
                                  "type": "string",
                                  "enum": [
                                    "PIECE_TRIGGER"
                                  ]
                                },
                                "settings": {
                                  "type": "object",
                                  "properties": {
                                    "pieceName": {
                                      "type": "string"
                                    },
                                    "pieceVersion": {
                                      "type": "string",
                                      "pattern": "^[0-9]+\\.[0-9]+\\.[0-9]+$"
                                    },
                                    "triggerName": {
                                      "type": "string"
                                    },
                                    "input": {
                                      "type": "object",
                                      "additionalProperties": {}
                                    }
                                  },
                                  "required": [
                                    "pieceName",
                                    "pieceVersion",
                                    "triggerName",
                                    "input"
                                  ]
                                }
                              },
                              "required": [
                                "name",
                                "valid",
                                "displayName",
                                "type",
                                "settings"
                              ]
                            },
                            {
                              "type": "object",
                              "properties": {
                                "name": {
                                  "type": "string"
                                },
                                "valid": {
                                  "type": "boolean"
                                },
                                "displayName": {
                                  "type": "string"
                                },
                                "nextAction": {},
                                "type": {
                                  "type": "string",
                                  "enum": [
                                    "EMPTY"
                                  ]
                                },
                                "settings": {
                                  "type": "object",
                                  "properties": {}
                                }
                              },
                              "required": [
                                "name",
                                "valid",
                                "displayName",
                                "type",
                                "settings"
                              ]
                            }
                          ]
                        },
                        "valid": {
                          "type": "boolean"
                        },
                        "state": {
                          "anyOf": [
                            {
                              "type": "string",
                              "enum": [
                                "LOCKED"
                              ]
                            },
                            {
                              "type": "string",
                              "enum": [
                                "DRAFT"
                              ]
                            }
                          ]
                        }
                      },
                      "required": [
                        "id",
                        "created",
                        "update",
                        "flowId",
                        "displayName",
                        "trigger",
                        "valid",
                        "state"
                      ]
                    }
                  },
                  "required": [
                    "id",
                    "created",
                    "update",
                    "projectId",
                    "collectionId",
                    "version"
                  ]
                }
              }
            }
          }
        }
      },
      "get": {
        "summary": "Get a flow",
        "tags": [
          "flow"
        ],
        "description": "Get a flow",
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "query",
            "name": "versionId",
            "required": false
          },
          {
            "schema": {
              "type": "boolean"
            },
            "in": "query",
            "name": "includeArtifacts",
            "required": false
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "flowId",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "example": "9m7dpndtY3IUvUvCv5WY0",
                      "type": "string"
                    },
                    "created": {
                      "example": "2023-03-09T18:29:49.146Z",
                      "type": "string"
                    },
                    "update": {
                      "example": "2023-03-09T18:29:49.146Z",
                      "type": "string"
                    },
                    "projectId": {
                      "example": "9m7dpndtY3IUvUvCv5WY0",
                      "type": "string"
                    },
                    "collectionId": {
                      "example": "517dpndtY3IU2UvCv5WY0",
                      "type": "string"
                    },
                    "version": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "example": "9m7dpndtY3IUvUvCv5WY0",
                          "type": "string"
                        },
                        "created": {
                          "example": "2023-03-09T18:29:49.146Z",
                          "type": "string"
                        },
                        "update": {
                          "example": "2023-03-09T18:29:49.146Z",
                          "type": "string"
                        },
                        "flowId": {
                          "type": "string"
                        },
                        "displayName": {
                          "type": "string"
                        },
                        "trigger": {
                          "anyOf": [
                            {
                              "type": "object",
                              "properties": {
                                "name": {
                                  "type": "string"
                                },
                                "valid": {
                                  "type": "boolean"
                                },
                                "displayName": {
                                  "type": "string"
                                },
                                "nextAction": {},
                                "type": {
                                  "type": "string",
                                  "enum": [
                                    "WEBHOOK"
                                  ]
                                },
                                "settings": {
                                  "type": "object",
                                  "properties": {}
                                }
                              },
                              "required": [
                                "name",
                                "valid",
                                "displayName",
                                "type",
                                "settings"
                              ]
                            },
                            {
                              "type": "object",
                              "properties": {
                                "name": {
                                  "type": "string"
                                },
                                "valid": {
                                  "type": "boolean"
                                },
                                "displayName": {
                                  "type": "string"
                                },
                                "nextAction": {},
                                "type": {
                                  "type": "string",
                                  "enum": [
                                    "SCHEDULE"
                                  ]
                                },
                                "settings": {
                                  "type": "object",
                                  "properties": {
                                    "cronExpression": {
                                      "format": "cronexpression",
                                      "type": "string"
                                    }
                                  },
                                  "required": [
                                    "cronExpression"
                                  ]
                                }
                              },
                              "required": [
                                "name",
                                "valid",
                                "displayName",
                                "type",
                                "settings"
                              ]
                            },
                            {
                              "type": "object",
                              "properties": {
                                "name": {
                                  "type": "string"
                                },
                                "valid": {
                                  "type": "boolean"
                                },
                                "displayName": {
                                  "type": "string"
                                },
                                "nextAction": {},
                                "type": {
                                  "type": "string",
                                  "enum": [
                                    "PIECE_TRIGGER"
                                  ]
                                },
                                "settings": {
                                  "type": "object",
                                  "properties": {
                                    "pieceName": {
                                      "type": "string"
                                    },
                                    "pieceVersion": {
                                      "type": "string",
                                      "pattern": "^[0-9]+\\.[0-9]+\\.[0-9]+$"
                                    },
                                    "triggerName": {
                                      "type": "string"
                                    },
                                    "input": {
                                      "type": "object",
                                      "additionalProperties": {}
                                    }
                                  },
                                  "required": [
                                    "pieceName",
                                    "pieceVersion",
                                    "triggerName",
                                    "input"
                                  ]
                                }
                              },
                              "required": [
                                "name",
                                "valid",
                                "displayName",
                                "type",
                                "settings"
                              ]
                            },
                            {
                              "type": "object",
                              "properties": {
                                "name": {
                                  "type": "string"
                                },
                                "valid": {
                                  "type": "boolean"
                                },
                                "displayName": {
                                  "type": "string"
                                },
                                "nextAction": {},
                                "type": {
                                  "type": "string",
                                  "enum": [
                                    "EMPTY"
                                  ]
                                },
                                "settings": {
                                  "type": "object",
                                  "properties": {}
                                }
                              },
                              "required": [
                                "name",
                                "valid",
                                "displayName",
                                "type",
                                "settings"
                              ]
                            }
                          ]
                        },
                        "valid": {
                          "type": "boolean"
                        },
                        "state": {
                          "anyOf": [
                            {
                              "type": "string",
                              "enum": [
                                "LOCKED"
                              ]
                            },
                            {
                              "type": "string",
                              "enum": [
                                "DRAFT"
                              ]
                            }
                          ]
                        }
                      },
                      "required": [
                        "id",
                        "created",
                        "update",
                        "flowId",
                        "displayName",
                        "trigger",
                        "valid",
                        "state"
                      ]
                    }
                  },
                  "required": [
                    "id",
                    "created",
                    "update",
                    "projectId",
                    "collectionId",
                    "version"
                  ]
                }
              }
            }
          }
        }
      },
      "delete": {
        "summary": "Delete a flow",
        "tags": [
          "flow"
        ],
        "description": "Delete a flow",
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "flowId",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            }
          }
        }
      }
    }
  },
  "servers": [
    {
      "url": "http://localhost:8080/api",
      "description": "Self hosted"
    }
  ],
  "externalDocs": {
    "url": "https://www.activepieces.com/docs",
    "description": "Find more info here"
  }
}